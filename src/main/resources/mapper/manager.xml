<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yun.album.dao.IManager">
    
    <select id="selectChildIdList">
        WITH RECURSIVE child_node (f_id, f_parent_id) AS
        (
            SELECT
                f_id,
                f_parent_id
            FROM
                t_manager
            WHERE
                f_parent_id = #{parentId}
            UNION ALL
            SELECT
                p.f_id,
                p.f_parent_id
            FROM
                t_manager p
                INNER JOIN child_node ON p.f_parent_id = child_node.f_id
        )
        SELECT * FROM child_node;
    </select>

</mapper>